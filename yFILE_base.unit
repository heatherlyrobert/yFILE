#!/usr/local/bin/koios
#   koios-polos (axis of heaven) unit testing meta-language



#23456789-12  123456789-123456789-123456789-12345  123456789-123456789-123456  123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-  123456789-  123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-  -  123456789-123456789- 
#==(verb)===  ===========(description)===========  =====(function)===========  ========================(arguments)=================================================================  ==(test)==  ==========================(results)=================================================================  t  ========(var)======= 
PREP          include the prototype headers                                      - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   - - - - -   - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
   incl       include public header                yFILE.h                     - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   - - - - -   - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
   incl       include private header               yFILE_priv.h                - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   - - - - -   - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  



#23456789-12  123456789-123456789-123456789-12345  123456789-123456789-123456  123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-  123456789-  123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-  -  123456789-123456789- 
#==(verb)===  ===========(description)===========  =====(function)===========  ========================(arguments)=================================================================  ==(test)==  ==========================(results)=================================================================  t  ========(var)======= 
SCRP          (BASE) verify configuration                                        yFILE_whoami                                                                                          ((15.---))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  

   COND       attempt to configure before initialization                         - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((15.001))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     call configuration                   yFILE_whoami                "/usr/local/bin/gyges"   , "3.5a", "testing"      , NULL, "gyges"   , NULL, NULL, NULL, NULL          i_lesser    0                                                                                                    

   COND       initialize the testing environment                                 - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((15.001))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     start testing                        yfile__unit_quiet                                                                                                                 i_equal     0                                                                                                    

   COND       verify simple configuration after initialization                   - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((15.001))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     call configuration                   yFILE_whoami                "/usr/local/bin/gyges"   , "3.5a", "testing"      , NULL, "gyges"   , NULL, NULL, NULL, NULL          i_equal     0                                                                                                    
     echo     ... check fullname                   - - - - - - - - - - - - -   myFILE.s_fullname                                                                                     s_equal     /usr/local/bin/gyges                                                                                                                
     echo     ... check program                    - - - - - - - - - - - - -   myFILE.s_prog                                                                                         s_equal     gyges                                                                                                                               
     echo     ... check vernum                     - - - - - - - - - - - - -   myFILE.s_vernum                                                                                       s_equal     3.5a                                                                                                                                
     echo     ... check vertxt                     - - - - - - - - - - - - -   myFILE.s_vertxt                                                                                       s_equal     testing                                                                                                                             
     echo     ... check namesake                   - - - - - - - - - - - - -   myFILE.s_namesake                                                                                     s_equal                                                                                                                                         
     echo     ... check extension                  - - - - - - - - - - - - -   myFILE.s_ext                                                                                          s_equal     gyges                                                                                                                               
     echo     ... check file type                  - - - - - - - - - - - - -   myFILE.s_filetype                                                                                     s_equal                                                                                                                                         
     echo     ... check function handlers          - - - - - - - - - - - - -   myFILE.e_handlers                                                                                     p_null      0                                                                                                                                   
     echo     ... check function prepper           - - - - - - - - - - - - -   myFILE.e_prepper                                                                                      p_null      0                                                                                                                                   
     echo     ... check function finisher          - - - - - - - - - - - - -   myFILE.e_finisher                                                                                     p_null      0                                                                                                                                   

   COND       attempt with missing critical fields                               - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((15.001))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     call configuration                   yFILE_whoami                NULL        , "4.2b", "short desc", "crazy greek beast", "gyges", "spreadsheet", NULL, NULL, NULL     i_lesser    0                                                                                                    
     exec     call configuration                   yFILE_whoami                "/bin/gyges", "4.2b", "short desc", "crazy greek beast", NULL   , "spreadsheet", NULL, NULL, NULL     i_lesser    0                                                                                                    

   COND       verify overwriting configuration                                   - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((15.001))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     call configuration                   yFILE_whoami                "/bin/gyges", "4.2b", "short desc", "crazy greek beast", "gyges", "spreadsheet", NULL, NULL, NULL     i_equal     0                                                                                                    
     echo     ... check fullname                   - - - - - - - - - - - - -   myFILE.s_fullname                                                                                     s_equal     /bin/gyges                                                                                                                          
     echo     ... check program                    - - - - - - - - - - - - -   myFILE.s_prog                                                                                         s_equal     gyges                                                                                                                               
     echo     ... check vernum                     - - - - - - - - - - - - -   myFILE.s_vernum                                                                                       s_equal     4.2b                                                                                                                                
     echo     ... check vertxt                     - - - - - - - - - - - - -   myFILE.s_vertxt                                                                                       s_equal     short desc                                                                                                                          
     echo     ... check namesake                   - - - - - - - - - - - - -   myFILE.s_namesake                                                                                     s_equal     crazy greek beast                                                                                                                   
     echo     ... check extension                  - - - - - - - - - - - - -   myFILE.s_ext                                                                                          s_equal     gyges                                                                                                                               
     echo     ... check file type                  - - - - - - - - - - - - -   myFILE.s_filetype                                                                                     s_equal     spreadsheet                                                                                                                         
     echo     ... check function handlers          - - - - - - - - - - - - -   myFILE.e_handlers                                                                                     p_null      0                                                                                                                                   
     echo     ... check function prepper           - - - - - - - - - - - - -   myFILE.e_prepper                                                                                      p_null      0                                                                                                                                   
     echo     ... check function finisher          - - - - - - - - - - - - -   myFILE.e_finisher                                                                                     p_null      0                                                                                                                                   

   COND       verify passing functions                                           - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((15.001))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     call configuration                   yFILE_whoami                "g", NULL, NULL, NULL, "gyges", NULL, yfile__unit_handlers, yfile__unit_prepper, yfile__unit_finisher  i_equal     0                                                                                                    
     echo     ... check fullname                   - - - - - - - - - - - - -   myFILE.s_fullname                                                                                     s_equal     g                                                                                                                                   
     echo     ... check program                    - - - - - - - - - - - - -   myFILE.s_prog                                                                                         s_equal     g                                                                                                                                   
     echo     ... check vernum                     - - - - - - - - - - - - -   myFILE.s_vernum                                                                                       s_equal     4.2b                                                                                                                                
     echo     ... check vertxt                     - - - - - - - - - - - - -   myFILE.s_vertxt                                                                                       s_equal     short desc                                                                                                                          
     echo     ... check namesake                   - - - - - - - - - - - - -   myFILE.s_namesake                                                                                     s_equal     crazy greek beast                                                                                                                   
     echo     ... check extension                  - - - - - - - - - - - - -   myFILE.s_ext                                                                                          s_equal     gyges                                                                                                                               
     echo     ... check file type                  - - - - - - - - - - - - -   myFILE.s_filetype                                                                                     s_equal     spreadsheet                                                                                                                         
     echo     ... check function handlers          - - - - - - - - - - - - -   myFILE.e_handlers                                                                                     p_exists    0                                                                                                                                   
     echo     ... check function prepper           - - - - - - - - - - - - -   myFILE.e_prepper                                                                                      p_exists    0                                                                                                                                   
     echo     ... check function finisher          - - - - - - - - - - - - -   myFILE.e_finisher                                                                                     p_exists    0                                                                                                                                   

   COND       complete testing                                                   - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((17.012))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     stop testing                         yfile__unit_end                                                                                                                   i_equal     0                                                                                                    


